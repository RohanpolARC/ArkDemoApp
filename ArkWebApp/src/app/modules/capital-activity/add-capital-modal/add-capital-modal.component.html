<div class="title">{{ header }}</div>
    
    <!-- Add dynamic load content here -->
<div>
    <div class="success-msg" *ngIf="isSuccessMsgAvailable">
        {{ updateMsg }}
    </div>
    <div class="failure-msg" *ngIf="isFailureMsgAvailable">
        {{ updateMsg }}
    </div>
</div>

         <!-- Don't add any dynamic content here. It introduces scrollbar as it overshoots mat-dialog-content size. -->
<form [formGroup]="capitalActivityForm" autocomplete="off" (ngSubmit)="onSubmit()">

<mat-dialog-content>   
  <div class="input-field">
    <div>
      <mat-form-field appearance="outline" class="edit">
        <mat-label>Call Date</mat-label>
        <input matInput formControlName="callDate" [matDatepicker]="callDatePicker" required/>
        <mat-datepicker-toggle
          matSuffix
          [for]="callDatePicker"
        ></mat-datepicker-toggle>
        <mat-datepicker #callDatePicker></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="outline" class="edit">
        <mat-label>Capital Type</mat-label>
        <mat-select type="text" required formControlName="capitalType">
          <mat-option
            *ngFor="let capitalType of capitalTypeOptions"
            [value]="capitalType.type"
          >
            {{capitalType.type}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      
      <mat-form-field appearance="outline" class="edit">
        <mat-label>Fund Hedging</mat-label>
        <mat-select type="text" required formControlName="fundHedging">
          <mat-option
            *ngFor="let fundHedging of fundHedgingOptions"
            [value]="fundHedging.name"
          >
            {{fundHedging.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline" class="edit">
        <mat-label>Issuer</mat-label>
        <mat-select type="text" required formControlName="issuer">
          <mat-option
            *ngFor="let isuer of issuerOptions"
            [value]="isuer.issuer"
          >
            {{isuer.issuer}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div>
      <mat-form-field appearance="outline" class="edit">
        <mat-label>Value Date</mat-label>
        <input matInput required formControlName="valueDate" [matDatepicker]="valueDatePicker" />
        <mat-datepicker-toggle matSuffix [for]="valueDatePicker"></mat-datepicker-toggle>
        <mat-datepicker #valueDatePicker></mat-datepicker>
      </mat-form-field>
    
      <mat-form-field appearance="outline" class="edit">
        <mat-label>Capital Subtype</mat-label>
        <mat-select type="text" required formControlName="capitalSubType">
          <mat-option
            *ngFor="let capitalSubType of capitalSubTypeOptions"
            [value]="capitalSubType.subtype"
          >
            {{ capitalSubType.subtype }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline" class="edit">
        <mat-label>Currency</mat-label>
        <mat-select type="text" required formControlName="fundCcy">
          <mat-option
            *ngFor="let ccy of fundCcyOptions"
            [value]="ccy.fundCcy"
          >
            {{ ccy.fundCcy }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="outline" class="edit">
        <mat-label>Asset</mat-label>
        <mat-select type="text"  required formControlName="asset">
          <mat-option
            *ngFor="let asset_ of assetOptions"
            [value]="asset_.asset"
          >
            {{ asset_.asset }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="last-col">

      <mat-form-field appearance="outline" class="edit">
        <mat-label> Total Amount </mat-label>
        <input type="number" required matInput formControlName="totalAmount" />
      </mat-form-field>
    
      <mat-form-field appearance="outline" class="edit">
        <mat-label>Narrative</mat-label>
        <input matInput formControlName="narrative" />
      </mat-form-field>
    </div>
  </div>
</mat-dialog-content>
</form>

<mat-dialog-actions align="end"> 
    <div class="action">
        <button
        mat-raised-button
        color="primary"
        type="submit"
        (click)="onSubmit()"
        [disabled]="disableSubmit"
        >
        {{ buttontext }}
        </button>
        
        <button class="close-button" type="button" mat-raised-button (click)="closeDialog(capitalAct)" >Close</button>

    </div>
</mat-dialog-actions>